<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>[JavaScript] Prototype</title>
      <link href="/2021/08/11/%E5%AD%B8%E7%BF%92%20/JS-prototype/"/>
      <url>/2021/08/11/%E5%AD%B8%E7%BF%92%20/JS-prototype/</url>
      
        <content type="html"><![CDATA[<p>當初在學 <code>prototype</code> 的時候覺得要世界末日了，到底是要 proto 到哪裡去，所以花了些時間重新認識 <code>prototype</code> 到底在做什麼。</p><span id="more"></span><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>依照 MDN 所提到：<br>JavaScript 是個 <strong>沒有</strong>  class 的動態語言，儘管在ECMAScript 6 中引入了類別 (class) 作為 JavaScript 現有 prototype-based 繼承的語法糖，但 JavaScript 仍然是基於原型（prototype-based）的語言。<br>而提及繼承，JavaScript 就只有一個建構子：物件。<br>每個物件都有一組原型物件作為範本，用來繼承屬性。而物件的原型物件也可能有原型物件，也是用來繼承屬性，這就是所謂的原型鏈「原型鏈 (Prototype chain)」。<br>同時正好說明為何 A 物件的屬性是透過 B 物件的屬性所定義。<br>精確點說，這些屬性都是透過物件的建構子函式所定義，並非物件實例本身。<br>所以該物件在尋找屬性的時候會先在該物件自身找，沒有的話就會透過原型鏈往該物件的原型物件找，直到找不到就回傳 undefined。</p></blockquote><h2 id="建構子"><a href="#建構子" class="headerlink" title="建構子"></a>建構子</h2><blockquote><p>function constructor 函式建構子</p></blockquote><h3 id="關於建構子"><a href="#關於建構子" class="headerlink" title="關於建構子"></a>關於建構子</h3><p>用來新建物件，透過與 <code>new</code> 一起使用，能創建出新物件並設定該物件的屬性與方法，只要函式前有 <code>new</code>，這個函式就是建構子。</p><blockquote><p>沒有 <code>new</code> 就只是普通的函式而已！</p></blockquote><p><code>new</code> 的時候會做以下四件事情：</p><ol><li>建立空的物件 <code>{}</code>( new出來的新物件 )，並將新物件的 <code>__proto__</code> 指向建構子的 <code>prototype</code></li><li>建構子的 <code>this</code> 指向 <code>{}</code> ( new出來的新物件 )</li><li>逐行執行程式碼</li><li>自動 return <code>{}</code> </li></ol><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>{</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hi!'</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">'小明'</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person(<span class="string">'小華'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1); <span class="comment">// Person {name: "小明"}</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.name); <span class="comment">// 小明</span></span><br><span class="line">p1.sayHi(); <span class="comment">// Hi!</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p2); <span class="comment">// Person {name: "小華"}</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.name); <span class="comment">// 小華</span></span><br><span class="line">p2.sayHi(); <span class="comment">// Hi!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1.__proto__ === Person.prototype; <span class="comment">// true</span></span><br><span class="line">p2.__proto__ === Person.prototype; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1.sayHi === p2.sayHi); <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>上述程式碼做了以下事情：</p><ol><li>建構子 <code>Person</code> 建立實體 p1 及 p2，由 11 及 15 行判斷為物件</li><li>新物件的 <code>__proto__</code> 指向 <code>Person.prototype</code></li><li><code>this</code> 在 <code>new</code> 的時候將各自指向了 p1 及 p2</li></ol><p>但在上述程式碼，p1, p2是各自獨立的，只有他們的<code>__proto__</code>都是<code>Person.prototype</code>，那要達到共用屬性，就需要使用 <code>prototype</code>。<br>所以修改程式碼，將 <code>sayHi</code> 放到 <code>Person.prototype</code>裡。</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>{</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">Person.prototype.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hi!'</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">'小明'</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person(<span class="string">'小華'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1); </span><br><span class="line"><span class="built_in">console</span>.log(p1.name); </span><br><span class="line">p1.sayHi(); </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p2); </span><br><span class="line"><span class="built_in">console</span>.log(p2.name); </span><br><span class="line">p2.sayHi(); </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1.sayHi === p2.sayHi); <span class="comment">// true，確認為同一個函式</span></span><br></pre></td></tr></tbody></table></figure><h2 id="原型鏈"><a href="#原型鏈" class="headerlink" title="原型鏈"></a>原型鏈</h2><p>在找物件的屬性或函式時，若在本身這個物件找不到的時候，就會往該物件的原型物件尋找，直到原型鏈的終點 Object.prototype，若無法找到就回傳 undefined，而這個尋找的鏈就是依照 <code>.__proto__</code> 這個原型鏈來找。</p><p>可以簡單地記一下：</p><ol><li>建構子有 <code>prototype</code> 及 <code>__proto__</code></li><li>new 出來的物件有 <code>__proto__</code></li><li>原型鏈的用處 - 共用屬性、區分祖父關係</li></ol><p>這裡來看一下 p1 的原型鏈！</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p1.__proto__ === Person.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__ === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__ === <span class="literal">null</span>); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p>由此可知，p1 是繼承自 <code>Person</code> 的 <code>prototype</code>，<code>Person</code>的 <code>prototype</code> 是繼承自 <code>Object</code> 的 <code>prototype</code>，這樣就是一個原型鏈了。</p><p><img src="https://i.imgur.com/GDujqDs.png"></p><p>由於在 p1 找不到 <code>sayHi</code> 這個函式，透過 <code>__proto__</code> 找到 <code>Person.prototype</code> 裡的 <code>sayHi</code>，而這樣的模式就類似於繼承。</p><h3 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a><code>hasOwnProperty</code></h3><p><code>hasOwnProperty</code> 可以判斷屬性或方法是否屬於 <strong>當前</strong> 物件<br>依循上方程式碼做範例：</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p1.hasOwnProperty(<span class="string">'name'</span>); <span class="comment">// true</span></span><br><span class="line">p1.hasOwnProperty(<span class="string">'sayHi'</span>); <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure><h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a><code>instanceof</code></h3><p>instanceof 是用來判斷 A 是否為 B 的實例，比較的是原型(prototype)。<br>範例：</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{};</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p>透過以下例子來判斷，會更清楚原型鏈的連接方式，但畫圖是更快的方式</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{};</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Person <span class="keyword">instanceof</span> Person); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(Person <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// true // Function 是被自己 new 出來的</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// flase</span></span><br></pre></td></tr></tbody></table></figure><h2 id="關於-class"><a href="#關於-class" class="headerlink" title="關於 class"></a>關於 <code>class</code></h2><p>在 ES6 引入了 <code>class</code> 語法糖，就可以避開 <code>prototype</code> 較複雜的寫法</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>{</span><br><span class="line">  <span class="comment">// ↓直接定義在 new 出來的物件上面，這種寫法是寫死的，要定義變數只能透過 constructor() {};</span></span><br><span class="line">  gender = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// ↓物件 new 出來的時候就會調用，所以 this 會指向 new 出來的物件本身</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name, age</span>)</span> {</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// 建構子 + 原型鏈</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 原型方法定義只能寫一般 Function，不能寫箭頭</span></span><br><span class="line">  <span class="comment">// Person.prototype 定義方法 === Person.prototype.sayName = () =&gt; {}</span></span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Name'</span>);</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// 定義在 new 出來的物件上面的方法</span></span><br><span class="line">  sayName = <span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Name'</span>);</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">//定義在該建構子身上，不常使用</span></span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Name'</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="繼承"><a href="#繼承" class="headerlink" title="繼承"></a>繼承</h2><h3 id="傳統建構子寫法-class語法糖最終也會轉成傳統建構子"><a href="#傳統建構子寫法-class語法糖最終也會轉成傳統建構子" class="headerlink" title="傳統建構子寫法(class語法糖最終也會轉成傳統建構子)"></a>傳統建構子寫法(class語法糖最終也會轉成傳統建構子)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>{</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="comment">// Person.prototype =&gt; new Person(name, age);</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Name'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, grade</span>) </span>{</span><br><span class="line">  Person.call(<span class="built_in">this</span>, name, age);</span><br><span class="line">  <span class="comment">// 等同 class 寫法的 super(namem age), new 出來的新物件身上就會有 name, age 屬性</span></span><br><span class="line">  <span class="built_in">this</span>.grade = grade;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Student.prototype = <span class="keyword">new</span> Person;</span><br><span class="line"><span class="comment">// {}.__proto__ =&gt; Person.prototype</span></span><br><span class="line"><span class="comment">// s1.__proto__ =&gt; new Person =&gt; Person.prototype constructor</span></span><br><span class="line">                   </span><br><span class="line"><span class="comment">// new 出來的 Person 本身沒有 constructor 所以會繼續找到 Person.prototype 的 constructor。</span></span><br><span class="line"><span class="comment">// 代表現在 Student 的原型身上根本沒有 constructor。</span></span><br><span class="line"><span class="comment">// 不指回到 Student 的話，s1 的 constructor 卻是指向 Person 這樣非常奇怪。</span></span><br><span class="line">Student.prototype.constructor = Student;</span><br><span class="line"><span class="keyword">const</span> s1 = <span class="keyword">new</span> Student(<span class="string">'name'</span>, <span class="number">18</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s1.constructor === Student); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原型鏈</span></span><br><span class="line"><span class="comment">//s1.__proto__ =&gt; Student.prototype =&gt; Person.prototype =&gt; Object.prototype</span></span><br></pre></td></tr></tbody></table></figure><h3 id="class-語法糖寫法"><a href="#class-語法糖寫法" class="headerlink" title="class 語法糖寫法"></a>class 語法糖寫法</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name, age</span>)</span> {</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>{</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name, age, grade</span>)</span> {</span><br><span class="line">  <span class="built_in">super</span>(name, age);</span><br><span class="line">  <span class="built_in">this</span>.grade = grade;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s1 = <span class="keyword">new</span> Student(<span class="string">'name'</span>, <span class="string">'age'</span>, <span class="string">'grade'</span>);</span><br></pre></td></tr></tbody></table></figure><p>也可以利用 <code>create</code> 來做到繼承</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = {</span><br><span class="line">  <span class="attr">a</span>: <span class="string">'obj'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="built_in">Object</span>.create(obj);</span><br><span class="line"><span class="comment">// obj2 = {}; // obj2.__proto__ = obj</span></span><br><span class="line"><span class="comment">// obj2.__proto__ =&gt; obj =&gt; Object.prototype =&gt; null</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2.a); <span class="comment">// obj</span></span><br></pre></td></tr></tbody></table></figure><p>這裡比較偏向傳值或傳址，因朋友提及，就順便記錄下來</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t1 = <span class="keyword">new</span> test(); <span class="comment">// t1.__proto__ =&gt; 原本的 test.prototype 記憶體：0x123</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = {</span><br><span class="line">  <span class="attr">a</span>: <span class="string">'my name is obj'</span></span><br><span class="line">};</span><br><span class="line"><span class="comment">// obj 記憶體：0x234</span></span><br><span class="line"></span><br><span class="line">test.prototype.a = <span class="string">'my name is a'</span>;</span><br><span class="line">test.prototype = obj; <span class="comment">// 0x234</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(t1.__proto__.a); <span class="comment">// my name is a</span></span><br><span class="line"><span class="comment">// 因為 t1.__proto__ 並沒有被改變地址，所以還是指向原本的 test.prototype 0x123</span></span><br></pre></td></tr></tbody></table></figure><p>其實有了 <code>class</code> 這個語法糖衣後，就會覺得簡單很多，雖然也有可能是因為知道了 <code>prototype</code> 做了什麼事情的關係XDD<br>查資料的時候有看到資料提到 <code>prototype</code> 及 <code>class</code> 的差別，但目前先不去提兩者的差異，等未來有一天更深入理解後再來研究一次，在此也要感謝朋友花了很長的時間陪我釐清各種盲點QHQ</p><h2 id="參考資料："><a href="#參考資料：" class="headerlink" title="參考資料："></a>參考資料：</h2><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">MDN 繼承與原型鏈</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Learn/JavaScript/Objects/Object_prototypes">物件原型</a><br><a href="https://cythilya.github.io/2018/10/26/prototype/">你懂 JavaScript 嗎？#19 原型（Prototype）U精美的原型鏈模型圖推推</a><br><a href="https://pjchender.blogspot.com/2016/06/javascriptfunction-constructornew.html">[筆記] 談談 JavaScript 中的 function constructor 和關鍵字 new</a></p>]]></content>
      
      
      <categories>
          
          <category> 學習筆記 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[JavaScript] 邏輯運算子</title>
      <link href="/2021/08/04/%E5%AD%B8%E7%BF%92%20/JavaScript-%E9%82%8F%E8%BC%AF%E9%81%8B%E7%AE%97%E5%AD%90/"/>
      <url>/2021/08/04/%E5%AD%B8%E7%BF%92%20/JavaScript-%E9%82%8F%E8%BC%AF%E9%81%8B%E7%AE%97%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<p>在學習 React 的途中，因為 JSX 的 <code>{}</code> 內只能放表達式，無法放入陳述句 (<code>if...else</code>…等)，所以在做條件判斷的時候會經常使用邏輯運算子。</p><span id="more"></span><p>第一次碰到邏輯運算子的時候，對於 <code>||</code> 及 <code>&amp;&amp;</code> 到底要取前後哪個值常常搞不清楚，而那時學完之後也沒有經常使用它，久而久之就淡忘一切了QHQ<br>趁著這次學 React 的時候再把邏輯運算子撿回來好好複習一次XD</p><h1 id="邏輯運算子"><a href="#邏輯運算子" class="headerlink" title="邏輯運算子"></a>邏輯運算子</h1><h2 id="false-值"><a href="#false-值" class="headerlink" title="false 值"></a><code>false</code> 值</h2><p>在進到邏輯運算子之前，先將 false 值再記一次，對於往後的路會稍稍微順暢一點點(?)<br>在 JavaScript 裡，代表 false 的就只有這幾個： <code>0</code>、<code>NaN</code>、<code>null</code>、<code>undefined</code>、<code>""</code>。</p><h2 id="邏輯運算子-OR"><a href="#邏輯運算子-OR" class="headerlink" title="|| 邏輯運算子 OR"></a>|| 邏輯運算子 OR</h2><ul><li>若第一個值為 <code>true</code>，就回傳第一個值，且不會檢查第二個值。</li><li>若第一個值為 <code>false</code>，就回傳第二個值。<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="literal">true</span> || <span class="string">'不是我'</span>; <span class="comment">// 因為 true 為 true，所以 a 是 true</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="literal">false</span> || <span class="string">'回傳我'</span>; <span class="comment">// 因為 false 為 false，所以 b 是 '回傳我'</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="amp-amp-邏輯運算子-AND"><a href="#amp-amp-邏輯運算子-AND" class="headerlink" title="&amp;&amp; 邏輯運算子 AND"></a>&amp;&amp; 邏輯運算子 AND</h2><ul><li>若第一個值為 <code>false</code>，就回傳第一個值，且不會檢查第二個值。</li><li>若第一個值為 <code>true</code>，就回傳第二個值。<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="literal">true</span> &amp;&amp; <span class="string">'回傳我'</span>; <span class="comment">// 因為 true 為 true，所以 a 是 '回傳我'</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="literal">false</span> &amp;&amp; <span class="string">'不是我'</span>; <span class="comment">// 因為 false 為 false，所以 b 是 false</span></span><br></pre></td></tr></tbody></table></figure></li></ul><p>希望透過這一次的重新複習不再搞混他們XD</p><p>參考資料：<br><a href="https://www.fooish.com/javascript/boolean.html">JavaScript Boolean (布林值)</a><br><a href="https://ithelp.ithome.com.tw/articles/10191343?sc=iThelpR">重新認識 JavaScript: Day 08 Boolean 的真假判斷</a></p>]]></content>
      
      
      <categories>
          
          <category> 學習筆記 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[JavaScript] Chart.js 資料視覺化</title>
      <link href="/2021/07/30/%E5%AD%B8%E7%BF%92%20/JavaScript-Chart.js%20%E8%B3%87%E6%96%99%E8%A6%96%E8%A6%BA%E5%8C%96/"/>
      <url>/2021/07/30/%E5%AD%B8%E7%BF%92%20/JavaScript-Chart.js%20%E8%B3%87%E6%96%99%E8%A6%96%E8%A6%BA%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>在之前的專案因為想要將資料以圖表呈現，查找資料的時候發現 Chart.js 的資料很多，官方文件也寫得很清楚，就決定使用它了！</p><span id="more"></span><h2 id="關於-Chart-js"><a href="#關於-Chart-js" class="headerlink" title="關於 Chart.js"></a>關於 Chart.js</h2><p>Chart.js 是個具備多樣化設定的 JavaScript Library，支援 8 種圖表類型，也支援混合圖表。</p><h2 id="開始使用-Chart-js"><a href="#開始使用-Chart-js" class="headerlink" title="開始使用 Chart.js"></a>開始使用 Chart.js</h2><h3 id="載入方法"><a href="#載入方法" class="headerlink" title="載入方法"></a>載入方法</h3><p>在官網上的安裝說明是使用 <code>npm chart.js</code>，但專案是使用 Rails 的關係所以使用 <code>yarn chart.js</code>，<br>在 Integration 頁面有提供許多方式載入，在專案中是使用 webpack，所以就選用 webpack 的方式~<br><img src="/images/js-chart-webpack.png" width="60%" height="60%" title="js-chart-webpack" alt="js-chart-webpack" style="display: inline;"></p><p>當初在做專案的時候不知道是鬼遮眼還是累昏了，完全沒有看到 webpack 的方式，將所有載入方式都使用過一遍才發現有提供 webpack，<br>之後應該要再更靜下心來看文件才行QHQ<br>總之，在 JS 檔裡先輸入以下：</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> {</span><br><span class="line">  Chart,</span><br><span class="line">  ArcElement,</span><br><span class="line">  LineElement,</span><br><span class="line">  BarElement,</span><br><span class="line">  PointElement,</span><br><span class="line">  BarController,</span><br><span class="line">  BubbleController,</span><br><span class="line">  DoughnutController,</span><br><span class="line">  LineController,</span><br><span class="line">  PieController,</span><br><span class="line">  PolarAreaController,</span><br><span class="line">  RadarController,</span><br><span class="line">  ScatterController,</span><br><span class="line">  CategoryScale,</span><br><span class="line">  LinearScale,</span><br><span class="line">  LogarithmicScale,</span><br><span class="line">  RadialLinearScale,</span><br><span class="line">  TimeScale,</span><br><span class="line">  TimeSeriesScale,</span><br><span class="line">  Decimation,</span><br><span class="line">  Filler,</span><br><span class="line">  Legend,</span><br><span class="line">  Title,</span><br><span class="line">  Tooltip,</span><br><span class="line">  SubTitle</span><br><span class="line">} <span class="keyword">from</span> <span class="string">'chart.js'</span>;</span><br><span class="line"></span><br><span class="line">Chart.register(</span><br><span class="line">  ArcElement,</span><br><span class="line">  LineElement,</span><br><span class="line">  BarElement,</span><br><span class="line">  PointElement,</span><br><span class="line">  BarController,</span><br><span class="line">  BubbleController,</span><br><span class="line">  DoughnutController,</span><br><span class="line">  LineController,</span><br><span class="line">  PieController,</span><br><span class="line">  PolarAreaController,</span><br><span class="line">  RadarController,</span><br><span class="line">  ScatterController,</span><br><span class="line">  CategoryScale,</span><br><span class="line">  LinearScale,</span><br><span class="line">  LogarithmicScale,</span><br><span class="line">  RadialLinearScale,</span><br><span class="line">  TimeScale,</span><br><span class="line">  TimeSeriesScale,</span><br><span class="line">  Decimation,</span><br><span class="line">  Filler,</span><br><span class="line">  Legend,</span><br><span class="line">  Title,</span><br><span class="line">  Tooltip,</span><br><span class="line">  SubTitle</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure><p>哇好長一串，我相信大家應該都想要簡潔的程式碼，官方這裡有提供縮寫的版本：</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { Chart, registerables } <span class="keyword">from</span> <span class="string">'chart.js'</span>;</span><br><span class="line">Chart.register(...registerables);</span><br></pre></td></tr></tbody></table></figure><p>突然覺得前途一片光明，真是簡簡單單美美麗麗XD<br>載入成功後，在要顯示圖表的地方加入</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"myChart"</span> <span class="attr">width</span>=<span class="string">"200"</span> <span class="attr">height</span>=<span class="string">"200"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="取得-canvas"><a href="#取得-canvas" class="headerlink" title="取得 canvas"></a>取得 canvas</h3><p>Chart.js 可以用以下幾種方式取得 canvas</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'myChart'</span>);</span><br><span class="line"><span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'myChart'</span>).getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">var</span> ctx = $(<span class="string">'#myChart'</span>);</span><br><span class="line"><span class="keyword">var</span> ctx = <span class="string">'myChart'</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="參數調整"><a href="#參數調整" class="headerlink" title="參數調整"></a>參數調整</h3><p>再跟著官方文件走，以下是官方提供的基本範例：</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'myChart'</span>);</span><br><span class="line"><span class="keyword">var</span> myChart = <span class="keyword">new</span> Chart(ctx, {</span><br><span class="line">    <span class="attr">type</span>: <span class="string">'bar'</span>, <span class="comment">// 圖表類型</span></span><br><span class="line">    <span class="attr">data</span>: { <span class="comment">// 資料顯示</span></span><br><span class="line">        <span class="attr">labels</span>: [<span class="string">'Red'</span>, <span class="string">'Blue'</span>, <span class="string">'Yellow'</span>, <span class="string">'Green'</span>, <span class="string">'Purple'</span>, <span class="string">'Orange'</span>], <span class="comment">// 項目</span></span><br><span class="line">        <span class="attr">datasets</span>: [{</span><br><span class="line">            <span class="attr">label</span>: <span class="string">'# of Votes'</span>,</span><br><span class="line">            <span class="attr">data</span>: [<span class="number">12</span>, <span class="number">19</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">            <span class="attr">backgroundColor</span>: [ <span class="comment">// 背景色，官方文件裡有提供三種顏色顯示的寫法，rgba 不影響我都會沿用</span></span><br><span class="line">                <span class="string">'rgba(255, 99, 132, 0.2)'</span>, </span><br><span class="line">                <span class="string">'rgba(54, 162, 235, 0.2)'</span>,</span><br><span class="line">                <span class="string">'rgba(255, 206, 86, 0.2)'</span>,</span><br><span class="line">                <span class="string">'rgba(75, 192, 192, 0.2)'</span>,</span><br><span class="line">                <span class="string">'rgba(153, 102, 255, 0.2)'</span>,</span><br><span class="line">                <span class="string">'rgba(255, 159, 64, 0.2)'</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">borderColor</span>: [ <span class="comment">// 邊框色，但我不喜歡所以都會拔掉，整個刪掉也不會影響喔～</span></span><br><span class="line">                <span class="string">'rgba(255, 99, 132, 1)'</span>,</span><br><span class="line">                <span class="string">'rgba(54, 162, 235, 1)'</span>,</span><br><span class="line">                <span class="string">'rgba(255, 206, 86, 1)'</span>,</span><br><span class="line">                <span class="string">'rgba(75, 192, 192, 1)'</span>,</span><br><span class="line">                <span class="string">'rgba(153, 102, 255, 1)'</span>,</span><br><span class="line">                <span class="string">'rgba(255, 159, 64, 1)'</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">borderWidth</span>: <span class="number">1</span> <span class="comment">// 邊框拔掉的話這個也要記得拔掉</span></span><br><span class="line">        }]</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">options</span>: {</span><br><span class="line">        <span class="attr">scales</span>: {</span><br><span class="line">            <span class="attr">y</span>: {</span><br><span class="line">                <span class="attr">beginAtZero</span>: <span class="literal">true</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p>完成到這個地步就可以獲得一個圖表了～<br><img src="/images/js-chart-bar.png" width="70%" height="70%" title="js-chart-bar" alt="js-chart-bar" style="display: inline;"><br>Chart.js 可以調整的參數有很多，可以參考著官方文件去做調整看看～</p><p>參考資料：<br><a href="https://www.chartjs.org/docs/latest/">Chart.js 文件</a><br><a href="https://ithelp.ithome.com.tw/articles/10188031">[Day 30]Chart.js - 輕鬆完成資料視覺化</a></p>]]></content>
      
      
      <categories>
          
          <category> 學習筆記 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Ruby] sub 與 gsub</title>
      <link href="/2021/07/24/%E5%AD%B8%E7%BF%92%20/Ruby%20-%20sub-%E8%88%87-gsub/"/>
      <url>/2021/07/24/%E5%AD%B8%E7%BF%92%20/Ruby%20-%20sub-%E8%88%87-gsub/</url>
      
        <content type="html"><![CDATA[<p>想把字串裡的某些字換成其他字的時候就可以使用<code>sub</code> 與 <code>gsub</code>，但這兩者在使用上還是不太一樣</p><span id="more"></span><ul><li><code>sub</code> 替換掉 <strong>第一個</strong>  符合的字串並回傳新的字串，但不改變原本的值</li><li><code>gsub</code> 替換掉 <strong>所有</strong> 符合的字串並回傳新的字串，但不改變原本的值</li><li><code>sub!</code> 替換掉 <strong>第一個</strong> 符合的字串且改變原本的值</li><li><code>gsub!</code> 替換掉 <strong>所有</strong> 符合的字串且改變原本的值</li></ul><p>用個簡單的範例～<br><code>sub</code> 的場合<br><img src="/images/ruby-sub.png" width="60%" height="60%" title="ruby-sub" alt="ruby-sub" style="display: inline;"></p><p><code>gsub</code> 的場合<br><img src="/images/ruby-gsub.png" width="60%" height="60%" title="ruby-gsub" alt="ruby-gsub" style="display: inline;"></p><p><code>sub!</code> 的場合<br><img src="/images/ruby-sub!.png" width="60%" height="60%" title="ruby-sub!" alt="ruby-sub!" style="display: inline;"></p><p><code>gsub!</code> 的場合<br><img src="/images/ruby-gsub!.png" width="60%" height="60%" title="ruby-gsub!" alt="ruby-gsub!" style="display: inline;"></p><p>參考資料：<br><a href="https://www.dotnetperls.com/sub-ruby">Ruby Sub, gsub: Replace String</a></p>]]></content>
      
      
      <categories>
          
          <category> 學習筆記 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ruby </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Hexo] 架設部落格</title>
      <link href="/2021/07/17/%E5%AD%B8%E7%BF%92%20/%20GitHub%20+%20Hexo%20%E6%9E%B6%E8%A8%AD%E9%83%A8%E8%90%BD%E6%A0%BC/"/>
      <url>/2021/07/17/%E5%AD%B8%E7%BF%92%20/%20GitHub%20+%20Hexo%20%E6%9E%B6%E8%A8%AD%E9%83%A8%E8%90%BD%E6%A0%BC/</url>
      
        <content type="html"><![CDATA[<h2 id="什麼是-Hexo"><a href="#什麼是-Hexo" class="headerlink" title="什麼是 Hexo ?"></a>什麼是 Hexo ?</h2><blockquote><p><a href="https://hexo.io/zh-tw/docs/">官網</a>：Hexo 是一個快速、簡單且強大的網誌框架。Hexo 使用 Markdown（或其他標記語言）解析您的文章，並在幾秒鐘內，透過漂亮的主題產生靜態檔案。</p></blockquote><span id="more"></span><p>網路上有很多關於 Hexo 的教學，所以只單純紀錄自己架設 Hexo 的過程～</p><h2 id="環境要求"><a href="#環境要求" class="headerlink" title="環境要求"></a>環境要求</h2><ul><li><a href="https://git-scm.com/">Git</a></li><li><a href="https://nodejs.org/en/">Node.js</a> - 建議版本 12.0 以上</li><li><a href="https://github.com/">GitHub</a></li><li><a href="https://apps.apple.com/tw/app/xcode/id497799835?mt=12">Xcode</a> - Mac 使用者在編譯時可能會碰到問題，建議先安裝</li></ul><h2 id="本文版本與環境"><a href="#本文版本與環境" class="headerlink" title="本文版本與環境"></a>本文版本與環境</h2><ul><li>作業系統: macOS BigSur</li><li>Node.js: 14.16.1</li></ul><h2 id="新增-GitHub-Repo"><a href="#新增-GitHub-Repo" class="headerlink" title="新增 GitHub Repo"></a>新增 GitHub Repo</h2><ol><li><p>登入 GitHub 後，在右上角的 + 點選 New repository</p><img src="/images/github-repo-new.png" width="30%" height="30%" title="github-repo-new" alt="github-repo-new" style="display: inline;"></li><li><p>Repo 取名為 <code>帳號名稱.github.io</code><br>由於我已經創建過了，才會跳出紅色的警告訊息，這裡可以忽略這個警告訊息～</p><img src="/images/github-repo-name.png" width="70%" height="70%" title="github-repo-name" alt="github-repo-name" style="display: inline;"></li><li><p>建立完成後點 <code>Code</code> 複製 HTTPS 網址，後面會用到</p><img src="/images/github-repo-https.png" width="40%" height="40%" title="github-repo-https" alt="github-repo-https" style="display: inline;"></li></ol><h2 id="Hexo-環境安裝"><a href="#Hexo-環境安裝" class="headerlink" title="Hexo 環境安裝"></a>Hexo 環境安裝</h2><h3 id="安裝-Hexo"><a href="#安裝-Hexo" class="headerlink" title="安裝 Hexo"></a>安裝 Hexo</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli  // 透過 npm 在全域 (-g) 安裝 hexo-cli</span><br></pre></td></tr></tbody></table></figure><p>但在安裝的時候我有遇到這個錯誤訊息：</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm WARN checkPermissions Missing write access to /usr/local/lib/node_modules</span><br><span class="line">npm ERR! code EACCES</span><br><span class="line">npm ERR! syscall access</span><br><span class="line">npm ERR! path /usr/local/lib/node_modules</span><br><span class="line">npm ERR! errno -13</span><br><span class="line">npm ERR! Error: EACCES: permission denied, access '/usr/local/lib/node_modules'</span><br><span class="line">npm ERR!  [Error: EACCES: permission denied, access '/usr/local/lib/node_modules'] {</span><br></pre></td></tr></tbody></table></figure><p>錯誤訊息告訴我，我並沒有對這個目錄做寫入的權限，所以我需要輸入指令修改這個目錄的權限</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R $USER /usr/local/lib/node_modules</span><br></pre></td></tr></tbody></table></figure><p>然後再重新安裝 hexo-cli 就成功了～<br>也可以輸入 <code>hexo -v</code> 或 <code>hexo version</code> 查看版本，確認有沒有安裝成功</p><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></tbody></table></figure><p>初始化新的 Hexo，會在當前路徑建立一個叫 blog 的資料夾，資料夾名稱可以自己取，我是使用 blog，所以指令輸入 <code>hexo init blog</code>，要使用 <code>hexo init myblog</code> 也是沒問題 der</p><h3 id="安裝相關套件"><a href="#安裝相關套件" class="headerlink" title="安裝相關套件"></a>安裝相關套件</h3><p>先 <code>cd blog</code> 進到剛剛新建立的 blog 資料夾</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  // 安裝 Hexo 的相關套件</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save   // 安裝 git 部署套件</span><br></pre></td></tr></tbody></table></figure><h2 id="部落格設定"><a href="#部落格設定" class="headerlink" title="部落格設定"></a>部落格設定</h2><p>主要會修改 <code>_config.yml</code> 這個檔案裡的設定</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: 網站標題</span><br><span class="line">subtitle: 網站副標</span><br><span class="line">description: 網站敘述</span><br><span class="line">keywords: 關鍵字</span><br><span class="line">author: 網站作者</span><br><span class="line">language: 網站語系</span><br><span class="line">timezone: 網站時區</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'</span><br><span class="line">url: https://Tang-Tou.github.io/ // 填入自己的 GitHub 連結</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: landscape // 預設為 landsacpe 若有換主題要記得更換名稱</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/Tang-Tou/Tang-Tou.github.io.git // 自己的 Repo 網址，就是前面複製的 HTTPS 網址</span><br><span class="line">  branch: main // 選擇要部署的分支</span><br></pre></td></tr></tbody></table></figure><p>這樣就完成初步的設定了</p><h3 id="Hexo-主題選擇"><a href="#Hexo-主題選擇" class="headerlink" title="Hexo 主題選擇"></a>Hexo 主題選擇</h3><p>在 <a href="https://hexo.io/themes/">Hexo Theme</a> 裡有多種主題供選擇，可以點進去看樣式，點選主題的<font color="#0072E3">藍字標題</font>可以進到該主題的 GitHub 頁面，Readme 通常會有該主題的安裝教學。<br><img src="/images/hexo-theme.png" width="80%" height="80%" title="hexo-theme" alt="hexo-theme" style="display: inline;"><br>通常會在選主題的時候花很多時間，我自己是用了幾種主題後才決定選用 Next 這個主題的，不過要做客製化修改的話還是需要具備基本的 HTML、CSS 和 JavaScript 等知識才能順利改動</p><h3 id="新增文章"><a href="#新增文章" class="headerlink" title="新增文章"></a>新增文章</h3><p>在新增文章之前，可以先記住以下指令，不論是修改網站還是新增文章都會很常使用到！</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo server</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在本地瀏覽網站內容 (預設 http://localhost:4000)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 做網站客製化修改以及新增文章我都會利用本地端看過，ok 了才會進行部署</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 我很懶都只打 hexo s</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo new <span class="string">'文章名稱'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 建立文章</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 <span class="built_in">source</span>/_posts 裡新增文章檔案，為 md 檔</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo clean</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 清除舊的靜態檔案</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo g</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 建立新的靜態檔案</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo deploy</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 部署到 GitHub</span></span><br></pre></td></tr></tbody></table></figure><p>那簡單介紹完指令後就可以新增文章了～<br>終端機輸入 <code>hexo new '第一篇文章'</code>，打開新增的 md 檔案，原始內容如下：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 第一篇文章</span><br><span class="line">date: 2021-07-21 19:12:22</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure><p>可以新增 tags 的內容，以及另外新增 categories，例如：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 第一篇文章</span><br><span class="line">date: 2021-07-21 19:12:22</span><br><span class="line">tags: 文章標籤</span><br><span class="line">categories: 文章分類</span><br><span class="line">---</span><br><span class="line">文章內容，可使用 markdown</span><br><span class="line">可以使用 &lt;!-- more --&gt; 讓文章被收起，讓顯示頁面縮短，並顯示出 *閱讀全文* 的按鈕</span><br></pre></td></tr></tbody></table></figure><p>我習慣反覆利用 <code>hexo s</code> 確認文章呈現的樣貌，確認無誤後再輸入 <code>hexo clean</code>, <code>hexo g</code>, <code>hexo deploy</code> 指令將文章部署到 GitHub 上面</p><h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>在架設 Hexo 的時候，我花了很長的時間在挑選主題，使用後不喜歡再換下一個，撇除挑選主題外，整個架設過程並不會很困難，其實還有很多第三方服務可以使用，但對我來說部落格目前這樣就很足夠了。<br>本意為純記錄，若有遺漏還請見諒。</p><p>參考資料：<br><a href="https://hsiangfeng.github.io/hexo/20190411/932826160/">架設 Hexo+GitHub</a><br><a href="https://hexo.io/zh-tw/docs/gitlab-pages">在 GitLab Pages 上部署 Hexo</a><br><a href="https://alexchzuang.github.io/2021/06/25/how-to-setup-yourown-blog/">透過 GitHub + Hexo 架設個人部落格</a><br><a href="https://lailai-blog.gq/2021/05/16/Create-Your-Own-Blog-with-Hexo/">用Hexo搭建自己的部落格</a><br><a href="https://hackmd.io/@Heidi-Liu/note-hexo-github">【學習筆記】如何使用 Hexo + GitHub Pages 架設個人網誌</a><br><a href="https://flaviocopes.com/npm-fix-missing-write-access-error/">How to fix the “Missing write access” error when using npm</a></p>]]></content>
      
      
      <categories>
          
          <category> 學習筆記 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Hexo] Hello World</title>
      <link href="/2021/07/09/hello-world/"/>
      <url>/2021/07/09/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><span id="more"></span><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 學習筆記 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
